if [ -f "$PWD/requirements.txt" ]; then
    # per guidelines in https://github.com/simonsdave/dev-env
    export DEV_ENV_SOURCE_CODE=$PWD
    export DEV_ENV_DOCKER_IMAGE=simonsdave/xenial-dev-env:build
    export DEV_ENV_PACKAGE=dev_env

    if [ -d "$PWD/env" ]; then
        source "$PWD/env/bin/activate"
    else
        virtualenv env
        source "$PWD/env/bin/activate"

        pip install --upgrade pip

        pip install --requirement "$PWD/requirements.txt"
    fi

    export PATH="$PWD/bin":$PATH
    export PYTHONPATH="$PWD"
else
    echo "Must source this script from project's root directory" >&2
fi
